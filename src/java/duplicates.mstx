import stdlib.sets

// s contains no other `TYPE declarations with the given name than ty
no-duplicate-type(s, name, ty) :- {defs, matches}
    query s `PKGC? `PKG | `TYPE as defs
  , filter defs ((name', ty') where name' == name, ty' != ty) matches
  , empty(matches).
